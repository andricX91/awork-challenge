var o=class l{constructor(a={}){Object.assign(this,a)}get imageSrc(){return`${this.image}?id=${this.login?.uuid}`}static mapFromUserResult(a){return a.map(t=>new l({firstname:t.name.first,lastname:t.name.last,email:t.email,phone:t.phone,image:t.picture.medium,nat:t.nat,login:t.login,gender:t.gender,age:t.dob.age,city:t.location.city,country:t.location.country,lat:t.location.coordinates.latitude,long:t.location.coordinates.longitude,restarted:t.registered.date}))}};addEventListener("message",({data:l})=>{let{users:a,group:t,search:d}=l,g=a.map(s=>Object.assign(new o,s)),i=a;if(t){let s={};switch(t){case"alphabetically":s=g.reduce((e,n)=>{if(n.firstname){let r=n.firstname[0].toUpperCase();e[r]=e[r]||[],e[r].push(n)}return e},{});break;case"age":s=g.reduce((e,n)=>{if(n.age!==void 0){let r=Math.floor(n.age/10)*10+"s";e[r]=e[r]||[],e[r].push(n)}return e},{});break;case"nationality":s=g.reduce((e,n)=>{if(n.nat){let r=n.nat;e[r]=e[r]||[],e[r].push(n)}return e},{});break;default:postMessage({error:"Invalid grouping criteria"});return}i=Object.values(s).flat()}if(d?.length){let s=d.toLowerCase();i=i.filter(e=>`${e.firstname} ${e.lastname}`.toLowerCase().includes(s)||e.phone?.toLowerCase().includes(s)||e.email?.toLowerCase().includes(s)||e.nat?.toLowerCase().includes(s))}let m=i.length>0?i:a;postMessage(m)});
